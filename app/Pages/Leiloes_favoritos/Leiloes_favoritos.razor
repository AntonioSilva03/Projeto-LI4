@page "/Leiloes_favoritos"

@code {
    public List<int> favoritos = new List<int>();
    public List<Leilao> leiloes = new List<Leilao>();

    IDatabaseFacade db = new DatabaseFacade();

    protected override void OnInitialized() {
        favoritos = db.ids_favoritos(CurrentUser.user.getID());
        leiloes = db.get_leiloes_favoritos(favoritos);
    }
}

<PageTitle>Leil천es favoritos</PageTitle>

<h1>Leil천es Favoritos</h1>

<div class="auctions-container">
    @if (leiloes.Count == 0) {
        <p>N찾o tem leil천es favoritos</p>
    }
    else {
        @foreach (var leilao in leiloes) {
            int id_leilao = leilao.getID();
            List<Artigo> artigos = db.get_artigos_leilao(id_leilao);
                    
            @foreach (var artigo in artigos) {
                string arma = artigo.getTipo().ToString();
                string skin = artigo.getNome();
                string condicao = artigo.getCondicao();
                string img = artigo.getImagem();
                if (img == null) img = "/imgs/no_pic.png";
                string raridade = artigo.getRaridade();
                decimal preco_maximo = leilao.getPrecoMinimo();

                <Leilao_card skin_img="@img" id_leilao="@id_leilao" weapon="@arma" skin_name="@skin" condition="@condicao" raridade = "@raridade" preco_maximo = "@preco_maximo" />
            }
        }
    }
</div>